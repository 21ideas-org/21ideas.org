<!doctype html><html lang=en dir=ltr><head><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&display=swap" rel=stylesheet><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="До сих пор мы говорили о том, как нам удается хранить копии и обновлять записи в распределенном реестре, не допуская принуждения или коррупции, используя систему лотереи и проверку на основе консенсуса. Но что произойдет, если победитель лотереи окажется мошенником?"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta name=lightning content="21ideas@getalby.com"><meta property="og:title" content="Глава 5: Обеспечение безопасности реестра"><meta property="og:description" content="До сих пор мы говорили о том, как нам удается хранить копии и обновлять записи в распределенном реестре, не допуская принуждения или коррупции, используя систему лотереи и проверку на основе консенсуса. Но что произойдет, если победитель лотереи окажется мошенником?"><meta property="og:type" content="article"><meta property="og:url" content="https://21ideas.org/en/izobretaem-bitkoin/glava-5/"><title>Глава 5: Обеспечение безопасности реестра | 21ideas</title>
<link rel=manifest href=/manifest.json><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon media="(prefers-color-scheme: dark)" sizes=180x180 href=/apple-touch-icon-dark.png><link rel=icon type=image/png media="(prefers-color-scheme: dark)" sizes=32x32 href=/favicon-32x32-dark.png><link rel=icon type=image/png media="(prefers-color-scheme: dark)" sizes=16x16 href=/favicon-16x16-dark.png><link rel=alternate hreflang=ru-RU href=https://21ideas.org/izobretaem-bitkoin/glava-5/ title="Глава 5: Обеспечение безопасности реестра"><link rel=stylesheet href=/book.min.a88fda41628a86b0aa4a3caa9c8ab466ee8e01a433898186e506a93fb98f1884.css integrity="sha256-qI/aQWKKhrCqSjyqnIq0Zu6OAaQziYGG5QapP7mPGIQ=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script><script defer src=/en.search.min.05dff3f422690a54d2e4a82801d50d875bfcbecb8b4f97baf8bbf394e5efba10.js integrity="sha256-Bd/z9CJpClTS5KgoAdUNh1v8vsuLT5e6+LvzlOXvuhA=" crossorigin=anonymous></script><script type=text/javascript src=https://unpkg.com/zapthreads@0.5.2/dist/zapthreads.iife.js></script><script defer src=https://cloud.umami.is/script.js data-website-id=0affba7d-3c1d-4235-adb3-635b69b6f567></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/en/><picture><source srcset=/svg/logo_white.svg media="(prefers-color-scheme: dark)"><img src=/svg/logo_black.svg alt=Logo>
</picture><span>21ideas</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul class=book-languages><li><input type=checkbox id=languages class=toggle>
<label for=languages class="flex justify-between"><a role=button class="flex align-center"><img src=/svg/translate.svg class=book-icon alt=Languages>
English</a></label><ul><li><a href=https://21ideas.org/izobretaem-bitkoin/glava-5/>Русский</a></li></ul></li></ul><ul><li><input type=checkbox id=section-2c1fc68ff68c3e454d055a4d37a4816d class=toggle>
<label for=section-2c1fc68ff68c3e454d055a4d37a4816d class="flex justify-between"><a role=button>Start</a></label><ul><li><a href=/en/start/start/>Bitcoin Basics</a></li><li><a href=/en/start/guide/>Using Bitcoin</a></li><li><a href=/en/shitcoin-gambling-games/>Don’t Play Shitcoin Gambling Games</a></li></ul></li><li><input type=checkbox id=section-0e947b637002f54ca330500896114bfb class=toggle>
<label for=section-0e947b637002f54ca330500896114bfb class="flex justify-between"><a href=/en/theory/>Theory</a></label><ul><li><input type=checkbox id=section-c8c88ad6975c3c08b99f7a6aaa8233c7 class=toggle>
<label for=section-c8c88ad6975c3c08b99f7a6aaa8233c7 class="flex justify-between"><a href=/en/economics/>Economics</a></label><ul><li><input type=checkbox id=section-042039620ae77f503533b4129302aa25 class=toggle>
<label for=section-042039620ae77f503533b4129302aa25 class="flex justify-between"><a href=/en/gradually-then-suddenly/>Gradually, Then Suddenly</a></label><ul><li><a href=/en/gradually-then-suddenly/intro/>Intro</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-cant-be-copied/>Bitcoin Can’t Be Copied</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-is-not-too-volatile/>Bitcoin Is Not Too Volatile</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-does-not-waste-energy/>Bitcoin Does Not Waste Energy</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-is-not-too-slow/>Bitcoin is Not Too Slow</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-fixes-this/>Bitcoin Fixes This</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-not-blockchain/>Bitcoin, Not Blockchain</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-is-not-backed-by-nothing/>Bitcoin is Not Backed by Nothing</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-is-not-a-pyramid-scheme/>Bitcoin is Not a Pyramid Scheme</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-cannot-be-banned/>Bitcoin Cannot be Banned</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-is-not-for-criminals/>Bitcoin is Not for Criminals</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-obsoletes-all-other-money/>Bitcoin Obsoletes All Other Money</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-is-a-rally-cry/>Bitcoin is a Rally Cry</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-is-common-sense/>Bitcoin is Common Sense</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-is-antifragile/>Bitcoin is Antifragile</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-is-one-for-all/>Bitcoin is One for All</a></li><li><a href=/en/gradually-then-suddenly/bitcoin-is-the-great-definancialization/>Bitcoin is the Great Definancialization</a></li></ul></li><li><input type=checkbox id=section-dcadc98a07b7e2ce216dc99178d52c35 class=toggle>
<label for=section-dcadc98a07b7e2ce216dc99178d52c35 class="flex justify-between"><a href=/en/discovering-bitcoin/>Discovering Bitcoin</a></label><ul><li><a href=/en/discovering-bitcoin/intro/>Introduction</a></li><li><a href=/en/discovering-bitcoin/about-time/>About Time</a></li><li><a href=/en/discovering-bitcoin/about-people/>About People</a></li><li><a href=/en/discovering-bitcoin/introducing-money/>Introducing Money</a></li><li><a href=/en/discovering-bitcoin/a-wrong-turn-new-plan-needed/>A Wrong Turn (New Plan Needed)!</a></li><li><a href=/en/discovering-bitcoin/digital-scarcity/>Digital Scarcity</a></li><li><a href=/en/discovering-bitcoin/digital-contracts/>Digital Contracts</a></li><li><a href=/en/discovering-bitcoin/the-missing-pieces/>The Missing Pieces</a></li></ul></li><li><a href=/en/bitcoin-is-not-harmful-for-the-environment/>Bitcoin Is Not Harmful For The Environment</a></li><li><a href=/en/seven-network-effects-of-bitcoin/>The Seven Network Effects of Bitcoin</a></li><li><a href=/en/masters-and-slaves-of-money/>Masters and Slaves of Money</a></li><li><a href=/en/structural-adjustment/>Structural Adjustment</a></li><li><a href=/en/in-defense-of-deflation/>In Defense Of Deflation</a></li><li><a href=/en/comparison-of-monetary-standards/>Comparison of Monetary Standards</a></li><li><a href=/en/petrodollar-negative-effects/>Petrodollar Negative Effects</a></li><li><a href=/en/shelling-out/>Shelling Out: The Origins of Money</a></li><li><a href=/en/bitcoin-rhythms-of-history/>Bitcoin and the Rhythms of History</a></li><li><a href=/en/bitcoin-and-the-hopf-cycle-of-the-internet/>Bitcoin & the HOPF Cycle of the Internet</a></li><li><a href=/en/money-blockchains-and-social-scalability/>Money, blockchains, and social scalability</a></li><li><a href=/en/what-is-money/>What Is Money</a></li><li><a href=/en/only-the-strong-survive/>Only The Strong Survive</a></li><li><a href=/en/dollar-cost-averaging/>Dollar-Cost Averaging</a></li><li><a href=/en/jevons-paradox/>Jevons Paradox: Contrary Truth</a></li></ul></li><li><input type=checkbox id=section-7607f4888796b50750900ae1fa41174c class=toggle>
<label for=section-7607f4888796b50750900ae1fa41174c class="flex justify-between"><a href=/en/security/>Security</a></label><ul><li><a href=/en/how-to-hold-private-keys/>Bitcoin Wallets: How, Why and When to Hold Your Own Private Keys</a></li><li><a href=/en/seed/>What is a bitcoin seed phrase and how does it work?</a></li><li><a href=/en/seed-security/>Ultimate guide to storing your bitcoin seed phrase backups</a></li><li><a href=/en/passphrase/>Is your passphrase strong enough?</a></li><li><a href=/en/what-is-multisig/>What is multisig?</a></li><li><a href=/en/hwws/>The best Bitcoin hardware wallets</a></li><li><a href=/en/multisig-1/>Multisig Part I: Why Multisig?</a></li><li><a href=/en/multisig-2/>Multisig Part II: Single Keys are the Foundation of Multisignature</a></li></ul></li><li><input type=checkbox id=section-6e81d9ae00d8c0e44f4b6c22008f433f class=toggle>
<label for=section-6e81d9ae00d8c0e44f4b6c22008f433f class="flex justify-between"><a href=/en/privacy/>Privacy</a></label><ul><li><a href=/en/privacy/best-practices/>Bitcoin Privacy: Best Practices</a></li><li><a href=/en/privacy/no-kyc/>no-KYC only. Avoid the creep</a></li><li><a href=/en/wiki-bitcoin-privacy/>Bitcoin Privacy</a></li><li><a href=/en/bitcoin-becomes-critical/>Bitcoin Becomes Critical</a></li><li><a href=/en/bip47-the-ugly-duckling/>BIP47, the ugly duckling</a></li><li><input type=checkbox id=section-fa948e4e97baac946689641ce96c1e94 class=toggle>
<label for=section-fa948e4e97baac946689641ce96c1e94 class="flex justify-between"><a href=/en/privacy/oxt/>Understanding Bitcoin Privacy with OXT</a></label><ul><li><a href=/en/privacy/oxt-1/>Part 1: Chain Analysis And Transaction Privacy</a></li><li><a href=/en/privacy/oxt-2/>Part 2: Chain Analysis Core Concepts</a></li><li><a href=/en/privacy/oxt-3/>Part 3: Defences Against Chain Analysis</a></li><li><a href=/en/privacy/oxt-4/>Part 4: Applying Chain Analysis Concepts To Improve User Privacy</a></li></ul></li><li><a href=/en/privacy/coinjoin/>CoinJoin Overview</a></li><li><a href=/en/bitcoin-fungibility/>Bitcoin Fungibility</a></li><li><a href=/en/freesamourai/>#FreeSamourai</a></li></ul></li><li><input type=checkbox id=section-7703f58e8cfca24f7e8f10e99f7fd772 class=toggle>
<label for=section-7703f58e8cfca24f7e8f10e99f7fd772 class="flex justify-between"><a href=/en/protocol/>Protocol</a></label><ul><li><a href=/en/who-controls-bitcoin-core/>Who Controls Bitcoin Core?</a></li><li><a href=/en/bitcoins-eternal-struggle/>Bitcoin's Eternal Struggle</a></li><li><a href=/en/on-bitcoins-ux/>On Bitcoin’s UX</a></li><li><a href=/en/bitcoin-digital-gold-or-ecash/>Bitcoin: Digital Gold or Peer-to-Peer Cash?</a></li><li><a href=/en/bitcoin-governance/>Bitcoin Governance</a></li><li><a href=/en/trusted-third-parties/>Trusted Third Parties are Security Holes</a></li><li><a href=/en/21-million-is-non-negotiable/>21 Million is Non-Negotiable</a></li><li><a href=/en/proof-of-work/>Proof of Work, a pictorial essay</a></li><li><a href=/en/proof-of-stake-is-a-scam/>Proof of stake is a scam</a></li><li><a href=/en/was-satoshi-a-greedy-miner/>Was Satoshi a Greedy Miner?</a></li><li><a href=/en/segwit/>What Is SegWit</a></li><li><a href=/en/taproot/>What Is Taproot</a></li><li><a href=/en/coercion-of-ethereums-difficulty-bomb/>The Coercion Of Ethereum's Difficulty Bomb</a></li><li><a href=/en/rgb/>Understanding the RGB protocol</a></li><li><a href=/en/difficulty/>Bitcoin Difficulty Adjustment</a></li><li><a href=/en/bitcoin-address-types/>Bitcoin address types</a></li><li><a href=/en/myths-about-halving/>Myths About the Bitcoin Halving</a></li><li><a href=/en/mining-walkthrough/>SHA256 and Bitcoin Mining Walkthrough</a></li><li><input type=checkbox id=section-f1564ca04cb3a2764bdfe28910075cd7 class=toggle>
<label for=section-f1564ca04cb3a2764bdfe28910075cd7 class="flex justify-between"><a href=/en/protocol/utxo/>What Is UTXO And How To Manage Them</a></label><ul><li><a href=/en/protocol/utxo-1/>What is a Bitcoin UTXO</a></li><li><a href=/en/protocol/utxo-2/>Too Many UTXOs: How To Avoid High Fees</a></li><li><a href=/en/protocol/utxo-3/>UTXOs Privacy</a></li></ul></li><li><a href=/en/transaction-size/>Transaction Size</a></li><li><a href=/en/on-ossification/>On Ossification</a></li></ul></li><li><input type=checkbox id=section-3b225c8aaa13f68b831829121e8a96ea class=toggle>
<label for=section-3b225c8aaa13f68b831829121e8a96ea class="flex justify-between"><a href=/en/history/>History</a></label><ul><li><input type=checkbox id=section-6a04f6b3dd7c2dea74ad7a9a3b27156f class=toggle>
<label for=section-6a04f6b3dd7c2dea74ad7a9a3b27156f class="flex justify-between"><a href=/en/gf/>The Genesis Files</a></label><ul><li><a href=/en/gf/genesis-intro/>Intro</a></li><li><a href=/en/gf/genesis-1/>Part I: How David Chaum’s eCash Spawned a Cypherpunk Dream</a></li><li><a href=/en/gf/genesis-2/>Part II: Hashcash or How Adam Back Designed Bitcoin’s Motor Block</a></li><li><a href=/en/gf/genesis-3/>Part III: If Bitcoin Had a First Draft, Wei Dai’s B-Money Was It</a></li><li><a href=/en/gf/genesis-4/>Part IV: With Bit Gold, Szabo Was Inches Away From Inventing Bitcoin</a></li><li><a href=/en/gf/genesis-5/>Part V: How Hal Finney’s Quest For Digital Cash Led To RPOW (And More)</a></li></ul></li><li><a href=/en/hal-finney/>Hal Finney — The Life And Death Of A Cypherpunk Legend</a></li><li><a href=/en/bitcoin-and-me/>Bitcoin and Me</a></li><li><a href=/en/bitcoin-reformation/>The Bitcoin Reformation</a></li><li><a href=/en/bitcoin-forks/>A complete history of Bitcoin’s consensus forks</a></li><li><a href=/en/analyzing-2013-fork/>Analyzing the 2013 Bitcoin fork</a></li></ul></li><li><input type=checkbox id=section-8deaa51eea3af90eb190b70b9511c351 class=toggle>
<label for=section-8deaa51eea3af90eb190b70b9511c351 class="flex justify-between"><a href=/en/philosophy/>Philosophy</a></label><ul><li><input type=checkbox id=section-c0de4237ba1d1d542c91bf085525457d class=toggle>
<label for=section-c0de4237ba1d1d542c91bf085525457d class="flex justify-between"><a href=/en/what-i-learned-from-bitcoin/>What I've Learned From Bitcoin</a></label><ul><li><a href=/en/what-i-learned-from-bitcoin-1/>Part I. Philosophical Teachings of Bitcoin</a></li><li><a href=/en/what-i-learned-from-bitcoin-2/>Part II. Economic Teachings of Bitcoin</a></li><li><a href=/en/what-i-learned-from-bitcoin-3/>Part III. Technological Teachings of Bitcoin</a></li></ul></li><li><a href=/en/not-shitcoin/>Why Bitcoin, Not Shitcoin</a></li><li><a href=/en/inalienable-property-rights/>Inalienable Property Rights</a></li><li><a href=/en/crypto-anarchist-manifesto/>The Crypto Anarchist Manifesto</a></li><li><a href=/en/cypherpunks-manifesto/>A Cypherpunk's Manifesto</a></li><li><a href=/en/dutch-tulip-bubble/>Is Bitcoin Like the Dutch Tulip Bubble?</a></li><li><a href=/en/everyones-a-scammer/>Everyone's a Scammer</a></li><li><a href=/en/freedom-of-value/>The Freedom of Value</a></li><li><a href=/en/bitcoin-meme/>Bitcoin Is The Only Real Meme</a></li><li><a href=/en/number-zero-and-bitcoin/>The Number Zero and Bitcoin</a></li><li><a href=/en/crypto-bro/>Dear Crypto & Fiat Bros</a></li><li><a href=/en/fighting-fake-bitcoin/>Fighting Fake Bitcoin</a></li><li><a href=/en/bitcoin-is-the-mycelium/>Bitcoin is The Mycelium of Money</a></li><li><a href=/en/proof-of-life/>Proof of Life. Why Bitcoin is a Living Organism</a></li><li><a href=/en/most-peaceful-revolution/>A Most Peaceful Revolution</a></li><li><a href=/en/bitcoin-universe/>Bitcoin Universe</a></li><li><a href=/en/bitcoin-dissidents/>Bitcoin Dissidents</a></li><li><a href=/en/bitcoin-equals-freedom/>Bitcoin Equals Freedom</a></li></ul></li><li><input type=checkbox id=section-acee29309cd01b51e216d2d768d75871 class=toggle>
<label for=section-acee29309cd01b51e216d2d768d75871 class="flex justify-between"><a href=/en/future/>Future</a></label><ul><li><input type=checkbox id=section-8b8bdf99eb0d858d5adbfb2d713a72dc class=toggle>
<label for=section-8b8bdf99eb0d858d5adbfb2d713a72dc class="flex justify-between"><a href=/en/ba/>Bitcoin Astronomy</a></label><ul><li><a href=/en/ba/1/>Part I</a></li><li><a href=/en/ba/2/>Part II</a></li><li><a href=/en/ba/3/>Part III</a></li></ul></li><li><a href=/en/hey-bitcoin-slow-down/>Hey Bitcoin, Slow Down!</a></li><li><a href=/en/apocalypse/>Can Bitcoin Survive An Apocalypse?</a></li><li><a href=/en/bitcoin-and-oceans/>Bitcoin and Ocean Thermal Energy</a></li></ul></li><li><input type=checkbox id=section-7273d708b600eaa6617c228cdd2d9524 class=toggle>
<label for=section-7273d708b600eaa6617c228cdd2d9524 class="flex justify-between"><a href=/en/lightning/>Lightning</a></label><ul><li><a href=/en/what-is-lightning-network/>What is Lightning Network?</a></li><li><a href=/en/lightning-wallets/>Lightning Wallets</a></li><li><a href=/en/how-lightning-address-works/>How Lightning Address Works</a></li><li><a href=/en/lightning-network-privacy/>Lightning Network Privacy</a></li><li><a href=/en/is-lightning-centralized/>Is Lightning centralized?</a></li><li><a href=/en/lightning-network-explained/>Lightning Network Explained</a></li><li><a href=/en/inbound-liquidity-problem/>Solutions to inbound liquidity problem</a></li></ul></li></ul></li><li><input type=checkbox id=section-ebedd809137a39943c3339b07b86856f class=toggle>
<label for=section-ebedd809137a39943c3339b07b86856f class="flex justify-between"><a href=/en/practice/>Practice</a></label><ul><li><input type=checkbox id=section-a04618d8af5c321dea142dada821f01f class=toggle>
<label for=section-a04618d8af5c321dea142dada821f01f class="flex justify-between"><a href=/en/practice/buy/>Buy</a></label><ul><li><a href=/en/newbie-buy/>Buy and Hodl Bitcoin for Beginners</a></li><li><a href=/en/hodl-hodl/>Buy noKYC Bitcoin with HodlHodl</a></li><li><a href=/en/robosats/>RoboSats: Private P2P Exchange</a></li></ul></li><li><input type=checkbox id=section-52e946c82575a11d29d8ca1021a1b878 class=toggle>
<label for=section-52e946c82575a11d29d8ca1021a1b878 class="flex justify-between"><a href=/en/practice/hodl/>Hodl</a></label><ul><li><a href=/en/electrum/>Electrum Bitcoin Wallet</a></li><li><a href=/en/blue/>Installing Blue Wallet</a></li><li><a href=/en/seedsigner/>SeedSigner: DIY Bitcoin Signing Device</a></li><li><a href=/en/coldcard/>What is Coldcard?</a></li></ul></li><li><input type=checkbox id=section-7778724fd028202526d77fda64e80716 class=toggle>
<label for=section-7778724fd028202526d77fda64e80716 class="flex justify-between"><a href=/en/practice/interact/>Interact</a></label><ul><li><a href=/en/practice/bitcoin-node/>Why You Should Run Your Own Bitcoin Node</a></li><li><a href=/en/orangepilling-in-5-min/>Orangepilling in 5 min</a></li><li><a href=/en/5-tips-for-teaching-bitcoin/>5 tips for teaching Bitcoin</a></li></ul></li><li><input type=checkbox id=section-42375023512d85163c1ed33595577cc3 class=toggle>
<label for=section-42375023512d85163c1ed33595577cc3 class="flex justify-between"><a href=/en/practice-privacy/>Privacy</a></label><ul><li><input type=checkbox id=section-489729314822a64eb481d2971b819168 class=toggle>
<label for=section-489729314822a64eb481d2971b819168 class="flex justify-between"><a href=/en/practice-privacy/dojo/>Dojo x86 Bitcoin Node Guide</a></label><ul><li><a href=/en/practice-privacy/dojo-0/>Introduction</a></li><li><a href=/en/practice-privacy/dojo-1/>Installing Bitcoin Core & Tor</a></li><li><a href=/en/practice-privacy/dojo-2/>Installing Fulcrum Indexer</a></li><li><a href=/en/practice-privacy/dojo-3/>Installing Mempool Explorer</a></li><li><a href=/en/practice-privacy/dojo-4/>Installing Samourai Dojo</a></li><li><a href=/en/practice-privacy/dojo-5/>Firewall Configuration</a></li><li><a href=/en/practice-privacy/dojo-6/>Installing Package Updates</a></li></ul></li><li><a href=/en/practice-privacy/ronindojo/>RoninDojo x86 Installation Guide</a></li><li><a href=/en/grapheneos/>GrapheneOS: De-Google your phone</a></li></ul></li><li><input type=checkbox id=section-1ee5fbef80ad0a274c597a531c90648c class=toggle>
<label for=section-1ee5fbef80ad0a274c597a531c90648c class="flex justify-between"><a href=/en/practice/lightning/>Lightning</a></label><ul><li><a href=/en/phoenix/>Phoenix: The Non-Custodial Lightning Wallet</a></li><li><a href=/en/lnbits/>LNbits: A Swiss knife among Lightning apps</a></li><li><a href=/en/alby-and-nostr/>Alby and Nostr</a></li><li><a href=/en/zapplanner/>Recurring Lightning Payments</a></li><li><a href=/en/lntips/>Telegram bot @LightningTipBot</a></li><li><a href=/en/lightning-liquidity-management-guide/>Lightning Liquidity Management Guide</a></li><li><a href=/en/mutiny/>Starting with Mutiny Wallet</a></li></ul></li></ul></li><li><input type=checkbox id=section-0fbeb231f88c8b74f36060fd3f3377c6 class=toggle checked>
<label for=section-0fbeb231f88c8b74f36060fd3f3377c6 class="flex justify-between"><a href=/en/rabbithole/>Rabbithole</a></label><ul></ul></li></ul><div class=menuSep></div><ul><li><input type=checkbox id=section-5c8dd08fbf75826bbf8b24f27b15430e class=toggle>
<label for=section-5c8dd08fbf75826bbf8b24f27b15430e class="flex justify-between"><a href=/en/contribute/>Contribute</a></label><ul><li><a href=/en/github/>Adding an Article</a></li></ul></li><li><span>Blog</span></li><li><a href=/en/feedback/>Feedback</a></li></ul><div class=menuBlock><div id=metrics-container class=metrics-container><div id=metrics-label></div><div id=metrics-value></div></div></div></nav><footer><br><a class=menuSocialButton href=https://t.me/bitcoin21ideas target=_blank title=Telegram><svg viewBox="0 0 25 25"><path d="m12 0C5.373.0.0 5.373.0 12s5.373 12 12 12 12-5.373 12-12c0-6.627-5.373-12-12-12zm5.894 8.221-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002.0-.003.0-.005.0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121L8.32 13.617l-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"/></svg>
</a>&nbsp;
<a class=menuSocialButton href=https://github.com/21ideas-org/21ideas.org target=_blank title=GitHub><svg viewBox="0 0 820 820"><path d="M4e2 9.9C179.11 9.9.0 189 0 409.94.0 585.6 113.24 734.86 270.71 788.61l2.83.83c20 3.76 27.34-8.59 27.34-19.24.0-9.49-.32-34.68-.5-68-111.27 24.14-134.75-53.68-134.75-53.68a106.58 106.58.0 00-44.09-58.26l-.43-.24c-36.23-24.81 2.8-24.3 2.8-24.3A84.06 84.06.0 01185 606.54l.22.4a85.24 85.24.0 00116.92 33l-.43.21A85.16 85.16.0 01327 586.7C238.19 576.67 144.8 542.25 144.8 389c0-.72.0-1.55.0-2.38a153.82 153.82.0 0141.27-105l-.08.11a139.82 139.82.0 01-8.56-48.58 141.91 141.91.0 0112.4-58.21l-.37.91s33.51-10.72 110 41c30-8.56 64.43-13.5 1e2-13.5a378.09 378.09.0 01102.68 14.14l-2.67-.64c76-51.72 109.51-41 109.51-41a144 144 0 0112 58.07 145.56 145.56.0 01-8.35 48.82l.32-1a154.37 154.37.0 0141 105c0 .83.0 1.63.0 2.43V389c0 153.68-93.5 187.51-182.52 197.35a95.48 95.48.0 0127.27 66.93c0 2.48-.11 5-.3 7.42v-.32c0 53.54-.51 96.54-.51 109.53.0 10.51 7 23 27.51 19C686.25 734.78 8e2 585.39 8e2 409.41 8e2 188.74 621.11 9.87 400.47 9.87H4e2z"/></svg>
</a>&nbsp;
<a class=menuSocialButton href=https://njump.me/npub1lm3f47nzyf0rjp6fsl4qlnkmzed4uj4h2gnf2vhe3l3mrj85vqks6z3c7l target=_blank title=Nostr><svg viewBox="0 0 820 820"><path d="M4e2 797.5c219.53.0 397.5-178 397.5-397.5S619.53 2.5 4e2 2.5 2.5 180.47 2.5 4e2 180.47 797.5 4e2 797.5zM598.23 242.15c6.82 8.46 10.35 18.14 11.45 28.86 1.7 16.37-2.68 31.17-11.2 45-14.19 23.62-43.17 39.63-45.85 41-5.42 2.86-7.42 7.12-7.06 13.34s-1.21 37.19-20 50.83c-9.68 7-48.64 16-66.6 19.05a28.61 28.61.0 00-13.18 5.37c-1 .67-2 1.36-3.2 2.06-6.82 4.27-31.23 38-35.31 45.48l10.66-3.27c21.2-6.53 66.85-20.6 69.52-21 9-1.4 15.89 1.22 20.34 7.79 3.63 5.41 7.18 10.81 10.75 16.25.61.94 1.23 1.87 1.85 2.81 1 1.54 2 3.08 2.93 4.62.48.78 1 1.55 1.45 2.32l1.52 2.38c.09.14.19.29.28.45a10.65 10.65.0 011.37 2.83c.24 1 .91 4.14-.92 6.09-1.7 1.77-4.63 1.77-6.21 1.34a15.65 15.65.0 01-5.6-2.8l-2.49-2.13c-2-1.71-5.73-2.56-8.71-2.44-3.41.13-8-1-10.11-2.37-4.2-2.74-5.35-9.56-5.35-9.68a3.51 3.51.0 00-3.72-2.86 18.58 18.58.0 00-6.28 1.15l-.78.25q-15 4.56-29.93 9.24h0l-14.31 4.45c-7.06 2.19-14.12 4.38-21.13 6.69a37.45 37.45.0 00-5.72 2.62c-.43.21-.84.43-1.25.64l-1.24.64h0c-.85.42-1.7.85-2.55 1.34l-.27.15a30.59 30.59.0 01-5.76 2.65c-7.12 2.13-13.39-1-16.32-8.1-1.88-4.63-.18-13.76.86-16.44 5.58-14.35 21.77-39.58 26.28-46.6.75-1.17 1.17-1.83 1.17-1.86-.36-.12-23.25 9.07-27 11.93-10.35 7.86-34.64 26.49-35 28.31A22.75 22.75.0 01331 508.13c-5.66 2.19-9.13 6.7-12.48 11.08.0.0-60.88 83.83-65 88.34l-.68.74c-2.83 3-12.28 13.16-15 18.13-.46.83-1.61 3.27-2.58 5.33-.6 1.26-1.13 2.38-1.38 2.89.0.05-.05.11-.08.17-.59 1.21-1.91 3.9-6.31 3.66s-4.79-6.12-5-9.09v-.4c-.54-6.88 1-13.7 4.63-20.82a6.46 6.46.0 01.31-.58c1-1.8 3.93-7 2.61-11.36s-2.61-11.14-.6-14.61c2.84-4.77 7.62-5.48 13.92-6.41l2.64-.41c5.29-.85 9.13-3.53 12.84-8.88 4.66-6.84 17-24.51 27.65-39.67C293.62 516 3e2 507 302.66 503.09a25.55 25.55.0 003.77-9.08c1.89-9.74 7.85-16.49 18.14-20.7 2.25-.85 43.17-35.06 43.17-39.45.0-3.1-4.45-4.87-7.92-5.78-.48-.12-26.24-6.82-37.92-12.12A88.58 88.58.0 01305 406.41c-7.53-5.54-22.23-3.16-25.3-2.67l-.27.05c-11 1.58-19.12 6.51-28.37 12.78-1.65 1.16-10.05 4.2-14.31 1.77-1.32-.75-2.9-1.6-4.65-2.54-9.16-4.92-22.91-12.31-28.59-20.9-3.11-4.69-2.68-12.42-.49-20.94 7.07-19.73 17.48-28.56 36.77-33.91 11.39-3.95 32.41-5.33 46.84-6.28 2.93-.19 5.59-.37 7.84-.54.12-.05.8-.09 1.94-.18 7-.51 31.32-2.27 49.13-11.39 1.61-.82 3.59-1.92 5.91-3.2 17.67-9.8 55.68-30.86 107.76-29.25 12.95.4 32.15 7.45 49.77 13.93 14.79 5.43 28.46 10.45 36.38 10.79 17.65.73 26.54-1.22 36.77-11.81 2.92-3.05 15.16-29.53 3.59-44a108.64 108.64.0 00-13.94-14.55q-2.28-1.94-4.59-3.85a183.79 183.79.0 01-15.8-14.29c-13.82-14.61-18.09-34.58-11.51-50.17 4.14-10.9 13-15.65 25.63-13.15 6.22 1.24 11.28 5.49 15.95 9.41a73.24 73.24.0 005.84 4.59c3.6 2.38 9.56 3.78 13.46 4.69 4.93 1.16 8.65 4.93 8.4 7.49s-6.7 4.75-13 4.26c-7.36-.49-20.09-.55-27.7 2-5.05 1.83-7.3 7.49-5.84 13 1.22 4.57 10.9 12.66 14.55 15.65 1.64 1.35 3.3 2.67 5 4C587.86 231.81 593.56 236.34 598.23 242.15z" fill-rule="evenodd"/></svg>
</a>&nbsp;
<a class=menuSocialButton href=/rss title=RSS><svg viewBox="-143 145 525 525"><path d="M113 145c-141.4.0-256 114.6-256 256s114.6 256 256 256 256-114.6 256-256S254.4 145 113 145zM43.1 518.7c-6.2 6.2-14.7 9.9-24.1 9.9-9.4.0-17.8-3.8-24-9.9-6.2-6.2-10-14.6-10-23.9.0-9.4 3.8-17.8 10-24s14.6-10 24-10 17.9 3.8 24 10c6.2 6.2 10 14.6 10 24C53 504.2 49.2 512.6 43.1 518.7zM104.8 529c-.1-32.1-12.5-62.3-35.1-84.9-22.6-22.6-52.8-35.2-84.7-35.2V360c46.6.0 88.7 19 119.3 49.6s49.5 72.8 49.6 119.4H104.8zm87.2.0c-.1-114.2-92.8-207.1-206.9-207.1V273c70.6.0 134.5 28.7 180.8 75.1 46.3 46.4 75 110.3 75.1 180.9H192z"/></svg>
</a>&nbsp;
<a class=menuSocialButton href=https://www.youtube.com/@21ideas target=_blank title=YouTube><svg viewBox="0 0 25 25"><path d="M12 0C5.373.0.0 5.373.0 12s5.373 12 12 12 12-5.373 12-12S18.627.0 12 0zm4.441 16.892c-2.102.144-6.784.144-8.883.0C5.282 16.736 5.017 15.622 5 12c.017-3.629.285-4.736 2.558-4.892 2.099-.144 6.782-.144 8.883.0C18.718 7.264 18.982 8.378 19 12c-.018 3.629-.285 4.736-2.559 4.892zM10 9.658l4.917 2.338L10 14.342V9.658z"/></svg></a></footer><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class="book-page book-page-page"><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Глава 5: Обеспечение безопасности реестра</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#противоречия-блоков>Противоречия блоков</a></li><li><a href=#единственная-достоверная-цепочка>Единственная достоверная цепочка</a></li><li><a href=#обратимость-транзакций>Обратимость транзакций</a></li></ul></nav></aside></header><h1>Глава 5: Обеспечение безопасности реестра</h1><div class=pageDate>June 17, 2019</div><article class=markdown><details><summary>Оглавление</summary><div class=markdown-inner><p><a href=/izobretaem-bitkoin>Главная страница</a></p><p><a href=/izobretaem-bitkoin/vstuplenie>Вступление</a></p><p><a href=/izobretaem-bitkoin/glava-1>Глава 1: Что такое Биткоин</a></p><p><a href=/izobretaem-bitkoin/glava-2>Глава 2: Отказываемся от посредника</a></p><p><a href=/izobretaem-bitkoin/glava-3>Глава 3: Proof of Work</a></p><p><a href=/izobretaem-bitkoin/glava-4>Глава 4: Майнинг</a></p><p><a href=/izobretaem-bitkoin/glava-5>Глава 5: Обеспечение безопасности реестра</a></p><p><a href=/izobretaem-bitkoin/glava-6>Глава 6: Форки и атаки 51%</a></p><p><a href=/izobretaem-bitkoin/glava-7>Глава 7: Учетные записи, не идентифицирующие личность</a></p><p><a href=/izobretaem-bitkoin/glava-8>Глава 8: Кто устанавливает правила?</a></p><p><a href=/izobretaem-bitkoin/glava-9>Глава 9: Что дальше?</a></p></div></details><p>До сих пор мы говорили о том, как нам удается хранить копии и обновлять записи в распределенном реестре, не допуская принуждения или коррупции, используя систему лотереи и проверку на основе консенсуса.</p><p>Но что произойдет, если победитель лотереи окажется мошенником? Может ли майнер изменить исторические записи в реестре? Могут ли наши злоумышленники Ева, Дэйв и Фарра вступить в сговор, чтобы переписать историю или изменить баланс счетов, тем самым предоставив себе дополнительные монеты?</p><p>Добро пожаловать в <em>блокчейн</em>. Чаще всего этим словом маркетологи просто украшают свои проекты технологического сектора. При этом блокчейн в Биткоине — это просто способ ведения реестра, основанный на последовательной записи блоков с информацией, необходимой для обеспечения связи между предыдущим и следующим набором транзакций. Это создает линейную историю выпуска и расходования монет, начиная с <em>генезис-блока</em> Сатоши в 2009 году и по сегодняшний день.</p><p>Мы немного схитрили в предыдущей главе, чтобы упростить некоторые вещи. В процессе майнинга в массив входных данных для хеширования входят не только транзакции из очереди на подтверждение и случайное однократно используемое число. Майнер также добавляет хеш предыдущего блока, тем самым связывая свой блок с предшествующим.</p><p>Напомним, что результат хеширования непредсказуем и напрямую зависит от входных данных. Итак, мы модифицировали хеши наших блоков, включив три разных типа входных данных:</p><ol><li><p>Транзакции, которые мы хотим зафиксировать в реестре.</p></li><li><p>Случайное однократно используемое число (нонс).</p></li><li><p>Хеш предыдущего блока, который несет в себе отпечаток всей истории реестра.</p></li></ol><div class=imageWrapper><img src=/img/ib-464.png><p><em>Входные данные, используемые при построении хеш-числа для участия в лотерее, помимо прочего, включают хеш предыдущего блока. Это создает неразрывную связь каждого следующего блока с общей историей.</em></p></div><p>Это позволяет нам сохранять последовательность записи всех блоков, ведущую обратно к нулевому генезис-блоку, созданному самим Сатоши. Когда мы записываем новый блок в цепочку, мы должны удостовериться, что этот блок не содержит транзакций, которые тратят биткоины, уже потраченные в предыдущих блоках.</p><p>Если даже незначительно изменить какое-либо из вводимых значений, то хеш-код на выходе трансформируется непредсказуемым и радикальным образом. Если вы вмешаетесь в данные какого-либо записанного ранее блока, вы измените его хеш. А поскольку этот хеш-код использовался в качестве входных данных для последующих блоков, в конечном итоге вы также измените хеш-значения этих блоков. Хеш последнего блока в цепочке, связанный со всеми предыдущими хешами, является отпечатком всей истории цепочки до этого момента!</p><p>Вы не можете обмануть Proof of Work, так как каждая нода в сети знает, сколько энергии нужно потратить на каждый блок, основываясь на целевом числе, требуемом для этого блока. Если бы кто-то попытался изменить один из блоков в цепочке, ему пришлось бы пересчитать хеш-код блока, в который он вмешивается, и, помимо этого, хеш-код каждого последующего блока. Мало того, что подобная манипуляция с блокчейном очевидна для полных нод сети, это занятие еще и является <em>чрезвычайно дорогостоящим</em>.</p><p>Фактически, каждый новый блок повышает безопасность блоков, созданных до него, так как он увеличивает количество электроэнергии, необходимое для пересчета хешей Proof of Work для этой цепочки. На сегодняшний день большинство участников считают транзакцию в блоке, похороненном под 6 последующими, окончательной. Потребовалось бы огромное количество энергии, чтобы переписать последние шесть блоков, учитывая сегодняшнюю общую скоростью хеширования. А как насчет транзакций, находящихся на глубине 100 блоков? Забудьте об этом.</p><p>Когда вы загружаете копию блокчейна, каждая транзакция в каждом блоке полностью прозрачна. Таким образом, вы можете самостоятельно проверить хеши Proof of Work, чтобы убедиться, что человек, отправивший вам реестр, ничего не изменил.</p><h1 id=противоречия-блоков>Противоречия блоков
<a class=anchor href=#%d0%bf%d1%80%d0%be%d1%82%d0%b8%d0%b2%d0%be%d1%80%d0%b5%d1%87%d0%b8%d1%8f-%d0%b1%d0%bb%d0%be%d0%ba%d0%be%d0%b2>#</a></h1><p>У нашей системы консенсуса остался один нерешенный вопрос: как мы можем заставить всех вести одну и ту же линейную историю транзакций в случае, если майнеры одновременно разработают два блока и всем их разошлют?</p><p>Мы имеем дело со всемирной сетью. Люди по всему миру от США до Китая подключены к этой глобальной сети, и все они играют в лотерею Proof of Work.</p><p>Допустим, один из майнеров в Чикаго находит валидный блок. Он объявляет об этом в сети, и все компьютеры по всей Америке его принимают. Между тем, кто-то в Шанхае также находит блок в течение нескольких секунд после чикагского блока. Его соседи до сих пор не слышали об американском блоке — они сначала узнают о китайском блоке.</p><p>Оба этих блока содержат транзакцию в 1 биткоин от Элис Бобу. Но сразу же после получения этого биткоина, не дожидаясь подтверждений в сети, Боб отправляет его Чарли. Из-за ограниченной скорости распространения информации американский блок отражает эту сделку, и конечный баланс Боба равен нулю. Однако китайцы создали свой блок, прежде чем увидеть, как Боб передает деньги Чарли. Китайский блок показывает баланс Боба в 1 биткоин.</p><p>Сеть разделяется, будучи не в состоянии решить, какая цепочка блоков является правильной копией реестра, поскольку обе содержат валидные транзакции, которые связаны с историей во всех предыдущих блоках и обе цепи подкреплены Proof of Work. Это называется <em>разделением цепи</em> (на английском <em>fork</em> — прим. пер.). Вы не можете положиться на какой-либо центральный орган, который мог бы сообщить вам, какая из цепочек победит. Что делать?</p><p>Биткоин предлагает незамысловатое решение: давайте просто подождем и посмотрим. Майнеры свободны выбирать, какой блок они хотят использовать в качестве базы для продолжения майнинга. Американцы будут заниматься майнингом блоков, связанных с тем, о котором они услышали первыми, а китайцы будут майнить поверх своего собственного блока.</p><p>В течение следующего, примерно десятиминутного периода будет добыт новый блок. В коде Биткоина есть правило, согласно которому, при разветвлении цепочки, истинной считается та, на создание которой было потрачено наибольшее количество энергии. Это правило иногда называют “Консенсус Накамото”, в честь Сатоши.</p><p>Допустим, китайцы создают следующий блок. Их цепочка теперь на один блок опережает американскую и содержит наибольший объем Proof of Work. Когда они передадут эту информацию, американские ноды признают, что китайские ноды произвели более длинную цепочку, и проведут реорганизацию своей копии блокчейна (или <em>реорг</em>). Это означает, что они отвергнут один добытый ими блок в пользу двух китайских.</p><div class=imageWrapper><img src=/img/ib-465.png><p><em>Разветвление цепи — это естественный процесс, который происходит, когда майнеры находят блоки одновременно. Цепочка, в которой следующий блок появляется раньше, признается валидной, а ответвление с теперь невостребованным блоком отвергается.</em></p></div><p>Американский блок сейчас называется <em>невостребованным (orphan)</em>. Поскольку он был отклонен, майнер, который его добыл, не будет вознагражден и ни одна из транзакций в этом блоке не будет отражена в реестре. Однако отклоненные транзакции не теряются. Некоторые из них, возможно, оказались в конкурирующем китайском блоке, а те, которые не попали в созданный блок, в конечном счете, будут отражены в следующих блоках.</p><p>Майнеры хранят все транзакции, о которых они слышат, в специальном месте на своем компьютере, которое называется <em>мемпул</em>. Любые транзакции из отклоненного блока помещаются обратно в <em>мемпул</em>. Затем они подтверждаются кем-то в будущем, если не конфликтуют с новой историей реестра, созданной последним блоком.</p><p>Обратите внимание на то, что, хотя мы и называем ноды американскими и китайскими, в действительности ноды не знают ни географического местоположения, ни какой-либо другой идентифицирующей информации друг о друге. Единственное, что для них важно, – это то, какая цепочка является самой длинной и что все транзакции в этой цепи валидны (не являются двойным расходованием и т. п.).</p><p>Подобные разветвления цепи являются нормальным явлением и время от времени происходят в сети Биткоин. Они обычно разрешаются в следующем блоке. Усовершенствования в технологии распространения блоков и сетевых подключений между майнерами делают подобные инциденты менее проблемными с течением времени. На сегодняшний день (и, вероятно, в обозримом будущем), Биткоин имеет жесткое ограничение для максимального объема данных, записанных в блок.</p><p>Одна из причин, по которой Биткоин использует относительно небольшие блоки с интервалом примерно в десять минут, заключается в том, чтобы максимально сократить количество невостребованных блоков.</p><p>Майнинг во многом полагается на вероятность. Иногда блоки разнесены на десять минут, а иногда — на секунды. Если бы мы производили блоки каждую секунду или имели очень большие блоки, у нас была бы высокая вероятность того, что американские и китайские блоки будут конфликтовать, потому что майнеры географически находятся далеко друг от друга и, чтобы связаться друг с другом, им потребуется больше времени. Если бы невостребованные блоки появлялись слишком часто, блокчейн не смог бы функционировать. Невостребованные блоки создавались бы поверх других невостребованных блоков, и у нод не было бы времени согласовать последний блок до того, как был бы добыт следующий.</p><p>Важно, чтобы блоки были небольшими, чтобы увеличить вероятность того, что вся сеть успеет узнать о предыдущем блоке, прежде чем приступить к анализу следующего. Другая и, возможно, более важная причина состоит в том, чтобы поддерживать аппаратные требования для работы ноды на относительно низком уровне, с целью стимулировать с течением времени появление большего количества нод и большую децентрализацию майнинга в системе. Большие блоки будут стимулировать майнеров размещаться ближе к центрам обработки данных и, соответственно, в определенных географических регионах, с целью избежать появления невостребованных блоков, что могло бы негативно влиять на их прибыльность.</p><h1 id=единственная-достоверная-цепочка>Единственная достоверная цепочка
<a class=anchor href=#%d0%b5%d0%b4%d0%b8%d0%bd%d1%81%d1%82%d0%b2%d0%b5%d0%bd%d0%bd%d0%b0%d1%8f-%d0%b4%d0%be%d1%81%d1%82%d0%be%d0%b2%d0%b5%d1%80%d0%bd%d0%b0%d1%8f-%d1%86%d0%b5%d0%bf%d0%be%d1%87%d0%ba%d0%b0>#</a></h1><p>Давайте вернемся к нашему примеру из главы 3, где Генри впервые присоединяется к сети Биткоин.</p><p>Нода Генри подключится к нескольким другим нодам в сети и спросит их об известных им нодах, а затем также подключится к некоторым из них. Это называется обнаружением нод.</p><p>Некоторые из этих нод будут заведомо вредоносными и будут давать ему фальшивую копию реестра с неверными подписями для транзакций или поддельными и неправильно созданными биткоинами, которые не имеют валидных хешей Proof of Work. Эти копии будут отклонены, а тем нодам будет немедленно запрещено дальнейшее подключение к ноде Генри <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>Другие ноды, к которым подключается нода Генри, будут честными, но будут хранить противоречивые версии правды. Например, некоторые из них, возможно, вдруг оказались оффлайн и могут отставать на один или два блока. Если будет загружено несколько противоречивых, но одинаково валидных копий блокчейна, программное обеспечение в ноде Генри будет использовать консенсус Накамото. Единственной достоверной версией реестра будет считаться та, на производство которой было потрачено больше ресурсов.</p><p>Ноды постоянно обмениваются друг с другом информацией, чтобы убедиться, что у них есть информация о последних блоках. Поскольку все ноды следуют правилу самой тяжелой цепочки, существует единогласный консенсус о том, каково фактическое состояние реестра. Генри не обязан полагаться на большинство голосов — его будет легко обмануть, если большинство нод будут подконтрольны злоумышленникам.</p><p>Даже если Генри подключится к десяткам устаревших или недобросовестных нод и одной честной ноде, его программное обеспечение Биткоин распознает ту самую правильную копию. Именно она будет содержать наибольшее количество Proof of Work и состоять из валидных транзакций вплоть до генезис-блока. Важность этого нельзя недооценивать. Генри не нужно никому доверять; его нода выполнит все проверки, чтобы убедиться, что блокчейн, на который он смотрит, является единственной достоверной цепочкой.</p><p>Поэтому хакерам-злоумышленникам крайне сложно предоставить ноде ложную копию блокчейна. Для этого потребуется разорвать соединение этой ноды с любыми другими честными нодами и подключить ее только к тем нодам, которые контролируются злоумышленниками.</p><h1 id=обратимость-транзакций>Обратимость транзакций
<a class=anchor href=#%d0%be%d0%b1%d1%80%d0%b0%d1%82%d0%b8%d0%bc%d0%be%d1%81%d1%82%d1%8c-%d1%82%d1%80%d0%b0%d0%bd%d0%b7%d0%b0%d0%ba%d1%86%d0%b8%d0%b9>#</a></h1><p>Две конкурирующие цепочки обычно создаются случайно, и проблема быстро решается. Однако те, кто хочет атаковать сеть, могут воспользоваться консенсусом Накамото, при условии, что они контролируют более 50% хешрейта. Они могут создать самую длинную цепочку Proof of Work, содержащую транзакции на свой выбор, если они готовы потратить для этого достаточно энергии. Когда они транслируют эту цепочку, другие ноды примут ее как единственную достоверную. Это называется атакой 51%, поскольку требует контроля более половины хешрейта.</p><p>Важно понимать, что в сети Биткоин нет фактической завершенности транзакций, поскольку атаки 51% или даже случайное преобразование валидных блоков в невостребованные теоретически возможно. Из-за этого получатели транзакций обычно ждут, пока несколько блоков будут добыты поверх транзакции, чтобы считать ее окончательно закрепленной в блокчейне. К этому моменту количество энергии, необходимое для отмены транзакции, настолько высоко, что это вряд ли произойдет.</p><p>Блоки, созданные поверх блока, содержащего интересующую вас транзакцию, часто называют <em>подтверждениями</em>. Поэтому, когда вы слышите, что транзакция Биткоин имеет шесть подтверждений, это означает, что шесть блоков были добыты поверх нее. Если вы продаете цифровую книгу с минимальными затратами для себя как для продавца, вам будет достаточно лишь одного подтверждения или можно обойтись и вовсе без них; вы можете предоставлять ссылку для скачивания, как только увидите транзакцию в сети. Если вы продаете дом, возможно, вы захотите дождаться двенадцати подтверждений, что приблизительно равно двум часам майнинга. Чем дольше вы ждете, тем больше Proof of Work накапливается поверх блока, содержащего вашу транзакцию, и тем дороже становится процесс обращения транзакции вспять. Сегодня большинство людей принимают 6 подтверждений в качестве доказательства необратимости платежа.</p><p>Если скорость хеширования Биткоина значительно упадет, а это бы означало, что меньшее количество энергии защищает каждый блок, всегда можно увеличить количество подтверждений, которые вы будете требовать для окончательного расчета. Хотя незавершенность транзакций на первый взгляд может насторожить, важно помнить, что транзакции по кредитным картам обычно могут быть отменены через 120 дней после их совершения.</p><p>При этом биткоин-транзакции практически необратимы всего несколько блоков спустя. С этой точки зрения, обратимость и окончательность биткоин-транзакций — это значительное улучшение по сравнению с большинством традиционных платежных систем, по крайней мере, с точки зрения продавца.</p><p>Сегодняшние оценки показывают, что если бы в вашем распоряжении была энергия всей сети Биткоин (действительно щедрое предложение, поскольку вам бы довелось контролировать количество энергии, сопоставимое с потреблением страны средней величины), и все специализированное оборудование сети Биткоин, у вас все равно ушло бы больше года, на то, чтобы переписать всю историю цепочки. Вы можете изучить эти данные на <a href=http://bitcoin.sipa.be/>http://bitcoin.sipa.be</a>.</p><hr><details><summary>Оглавление</summary><div class=markdown-inner><p><a href=/izobretaem-bitkoin>Главная страница</a></p><p><a href=/izobretaem-bitkoin/vstuplenie>Вступление</a></p><p><a href=/izobretaem-bitkoin/glava-1>Глава 1: Что такое Биткоин</a></p><p><a href=/izobretaem-bitkoin/glava-2>Глава 2: Отказываемся от посредника</a></p><p><a href=/izobretaem-bitkoin/glava-3>Глава 3: Proof of Work</a></p><p><a href=/izobretaem-bitkoin/glava-4>Глава 4: Майнинг</a></p><p><a href=/izobretaem-bitkoin/glava-5>Глава 5: Обеспечение безопасности реестра</a></p><p><a href=/izobretaem-bitkoin/glava-6>Глава 6: Форки и атаки 51%</a></p><p><a href=/izobretaem-bitkoin/glava-7>Глава 7: Учетные записи, не идентифицирующие личность</a></p><p><a href=/izobretaem-bitkoin/glava-8>Глава 8: Кто устанавливает правила?</a></p><p><a href=/izobretaem-bitkoin/glava-9>Глава 9: Что дальше?</a></p></div></details><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Это превосходное эссе подробно рассказывает о том, как биткоин работает с недействительными блоками: <a href=https://hackernoon.com/bitcoin-miners-beware-invalid-blocks-need-not-apply-51c293ee278b>https://hackernoon.com/bitcoin-miners-beware-invalid-blocks-need-not-apply-51c293ee278b</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></article><hr><i>Connect to our relay to leave a comment. <a href=https://21ideas.org/en/comments/>Details</a>.<br>Подключитесь к нашему релею, чтобы оставить комментарий. <a href=https://21ideas.org/comments/>Подробнее</a>.</i>
<zap-threads anchor=https://21ideas.org/en/izobretaem-bitkoin/glava-5/ author=npub1lm3f47nzyf0rjp6fsl4qlnkmzed4uj4h2gnf2vhe3l3mrj85vqks6z3c7l relays=wss://21ideas.nostr1.com disable=replyAnonymously legacy-url=true></zap-threads><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#противоречия-блоков>Противоречия блоков</a></li><li><a href=#единственная-достоверная-цепочка>Единственная достоверная цепочка</a></li><li><a href=#обратимость-транзакций>Обратимость транзакций</a></li></ul></nav></div></aside></main><script>"use strict";const METRICS={FEE:"fee",BLOCK:"block",PRICE:"price",SATS:"sats",BTC:"btc"};let currentMetric=METRICS.FEE,lastKnownValues={fee:{label:"Комиссия",value:"0 sat/vB"},block:{label:"Высота блока",value:"0"},price:{label:"Цена",value:"$0"},sats:{label:"Московское время",value:"00:00"},btc:{label:"",value:"1 BTC = 1 BTC"}};function formatSatsAsTime(e){const t=Math.round(e).toString().padStart(4,"0"),n=t.slice(0,-2),s=t.slice(-2);return`${n}:${s}`}function formatNumber(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function updateDisplay(){const n=document.getElementById("metrics-label"),e=document.getElementById("metrics-value");if(!n||!e)return;const t=lastKnownValues[currentMetric];n.textContent=t.label,e.textContent=t.value,e.style.paddingTop=t.label?"0":"0.7rem"}async function updateMetrics(){try{const[t,n,e]=await Promise.all([fetch("https://mempool.space/api/v1/fees/recommended").then(e=>e.json()),fetch("https://mempool.space/api/blocks/tip/height").then(e=>e.json()),fetch("https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd").then(e=>e.json())]);lastKnownValues.fee.value=`${t.fastestFee} sat/vB`,lastKnownValues.block.value=formatNumber(n),lastKnownValues.price.value=`$${formatNumber(e.bitcoin.usd)}`;const s=Math.round(1e8/e.bitcoin.usd);lastKnownValues.sats.value=formatSatsAsTime(s),updateDisplay()}catch(e){console.error("Error fetching metrics:",e)}}function cycleMetric(){const e=Object.values(METRICS),t=e.indexOf(currentMetric);currentMetric=e[(t+1)%e.length],updateDisplay()}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("metrics-container");e&&(e.addEventListener("click",cycleMetric),updateMetrics(),setInterval(updateMetrics,6e4))})</script></body></html>